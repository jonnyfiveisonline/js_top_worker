node_incremental_test.js: [INFO] init()
Initializing findlib
node_incremental_test.js: [INFO] async_get: _opam/findlib_index
Loaded findlib_index findlib_index: 10 META files, 0 universes
node_incremental_test.js: [INFO] async_get: _opam/./lib/stdlib-shims/META
Parsed uri: ./lib/stdlib-shims/META
Reading library: stdlib-shims
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/sexplib0/META
Parsed uri: ./lib/sexplib0/META
Reading library: sexplib0
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/ppxlib/META
Parsed uri: ./lib/ppxlib/META
Reading library: ppxlib
Number of children: 11
Found child: __private__
Reading library: ppxlib.__private__
Number of children: 1
Found child: ppx_foo_deriver
Reading library: ppxlib.__private__.ppx_foo_deriver
Number of children: 0
Found child: ast
Reading library: ppxlib.ast
Number of children: 0
Found child: astlib
Reading library: ppxlib.astlib
Number of children: 0
Found child: metaquot
Reading library: ppxlib.metaquot
Number of children: 0
Found child: metaquot_lifters
Reading library: ppxlib.metaquot_lifters
Number of children: 0
Found child: print_diff
Reading library: ppxlib.print_diff
Number of children: 0
Found child: runner
Reading library: ppxlib.runner
Number of children: 0
Found child: runner_as_ppx
Reading library: ppxlib.runner_as_ppx
Number of children: 0
Found child: stdppx
Reading library: ppxlib.stdppx
Number of children: 0
Found child: traverse
Reading library: ppxlib.traverse
Number of children: 0
Found child: traverse_builtins
Reading library: ppxlib.traverse_builtins
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/ppx_deriving/META
Parsed uri: ./lib/ppx_deriving/META
Reading library: ppx_deriving
Number of children: 12
Found child: api
Reading library: ppx_deriving.api
Number of children: 0
Found child: create
Reading library: ppx_deriving.create
Number of children: 0
Found child: enum
Reading library: ppx_deriving.enum
Number of children: 0
Found child: eq
Reading library: ppx_deriving.eq
Number of children: 0
Found child: fold
Reading library: ppx_deriving.fold
Number of children: 0
Found child: iter
Reading library: ppx_deriving.iter
Number of children: 0
Found child: make
Reading library: ppx_deriving.make
Number of children: 0
Found child: map
Reading library: ppx_deriving.map
Number of children: 0
Found child: ord
Reading library: ppx_deriving.ord
Number of children: 0
Found child: runtime
Reading library: ppx_deriving.runtime
Number of children: 0
Found child: show
Reading library: ppx_deriving.show
Number of children: 0
Found child: std
Reading library: ppx_deriving.std
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/ppx_derivers/META
Parsed uri: ./lib/ppx_derivers/META
Reading library: ppx_derivers
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/ocaml_intrinsics_kernel/META
Parsed uri: ./lib/ocaml_intrinsics_kernel/META
Reading library: ocaml_intrinsics_kernel
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/ocaml/stdlib/META
Parsed uri: ./lib/ocaml/stdlib/META
Reading library: stdlib
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/ocaml/compiler-libs/META
Parsed uri: ./lib/ocaml/compiler-libs/META
Reading library: compiler-libs
Number of children: 5
Found child: common
Reading library: compiler-libs.common
Number of children: 0
Found child: bytecomp
Reading library: compiler-libs.bytecomp
Number of children: 0
Found child: optcomp
Reading library: compiler-libs.optcomp
Number of children: 0
Found child: toplevel
Reading library: compiler-libs.toplevel
Number of children: 0
Found child: native-toplevel
Reading library: compiler-libs.native-toplevel
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/ocaml-compiler-libs/META
Parsed uri: ./lib/ocaml-compiler-libs/META
Reading library: ocaml-compiler-libs
Number of children: 5
Found child: bytecomp
Reading library: ocaml-compiler-libs.bytecomp
Number of children: 0
Found child: common
Reading library: ocaml-compiler-libs.common
Number of children: 0
Found child: optcomp
Reading library: ocaml-compiler-libs.optcomp
Number of children: 0
Found child: shadow
Reading library: ocaml-compiler-libs.shadow
Number of children: 0
Found child: toplevel
Reading library: ocaml-compiler-libs.toplevel
Number of children: 0
node_incremental_test.js: [INFO] async_get: _opam/./lib/base/META
Parsed uri: ./lib/base/META
Reading library: base
Number of children: 3
Found child: base_internalhash_types
Reading library: base.base_internalhash_types
Number of children: 0
Found child: md5
Reading library: base.md5
Number of children: 0
Found child: shadow_stdlib
Reading library: base.shadow_stdlib
Number of children: 0
node_incremental_test.js: [INFO] sync_get: _opam/lib/ocaml/dynamic_cmis.json
node_incremental_test.js: [INFO] Adding toplevel modules for dynamic cmis from lib/ocaml/
node_incremental_test.js: [INFO]   toplevel modules: CamlinternalFormat, CamlinternalLazy, CamlinternalFormatBasics, CamlinternalMod, Std_exit, Stdlib, CamlinternalOO
node_incremental_test.js: [INFO] async_get: _opam/lib/ocaml/camlinternalFormat.cmi
node_incremental_test.js: [INFO] async_get: _opam/lib/ocaml/camlinternalLazy.cmi
node_incremental_test.js: [INFO] async_get: _opam/lib/ocaml/camlinternalFormatBasics.cmi
node_incremental_test.js: [INFO] async_get: _opam/lib/ocaml/camlinternalMod.cmi
node_incremental_test.js: [INFO] async_get: _opam/lib/ocaml/std_exit.cmi
node_incremental_test.js: [INFO] async_get: _opam/lib/ocaml/stdlib.cmi
node_incremental_test.js: [INFO] async_get: _opam/lib/ocaml/camlinternalOO.cmi
node_incremental_test.js: [INFO] init() finished
node_incremental_test.js: [INFO] setup() for env default...
node_incremental_test.js: [INFO] Fetching stdlib__Format.cmi

node_incremental_test.js: [INFO] sync_get: _opam/lib/ocaml/stdlib__Format.cmi
node_incremental_test.js: [INFO] Fetching stdlib__Sys.cmi

node_incremental_test.js: [INFO] sync_get: _opam/lib/ocaml/stdlib__Sys.cmi
error while evaluating #enable "pretty";;
error while evaluating #disable "shortvar";;
node_incremental_test.js: [INFO] Setup complete
node_incremental_test.js: [INFO] setup() finished for env default
node_incremental_test.js: [INFO] Setup complete, testing incremental output...
node_incremental_test.js: [INFO] Evaluating: let x = 1;; let y = 2;; let z = x + y;;
node_incremental_test.js: [INFO] execute_incremental() for env_id=
node_incremental_test.js: [INFO]   OutputAt: loc=9 caml_ppf=val x : int = 1
node_incremental_test.js: [INFO]   OutputAt: loc=21 caml_ppf=val y : int = 2
node_incremental_test.js: [INFO]   OutputAt: loc=37 caml_ppf=val z : int = 3
node_incremental_test.js: [INFO] execute_incremental() done for env_id=
node_incremental_test.js: [INFO] Number of OutputAt callbacks: 3 (expected 3)
node_incremental_test.js: [INFO] PASS: Got expected number of callbacks
node_incremental_test.js: [INFO] PASS: Locations are in increasing order: 9, 21, 37
node_incremental_test.js: [INFO] Final result caml_ppf: <none>
node_incremental_test.js: [INFO] Final result stdout: <none>
node_incremental_test.js: [INFO] Test completed successfully
