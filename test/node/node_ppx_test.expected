=== Node.js PPX Tests ===

node_ppx_test.js: [INFO] init()
Initializing findlib
Loaded findlib_index findlib_index: 10 META files, 0 universes
Parsed uri: ./lib/stdlib-shims/META
Reading library: stdlib-shims
Number of children: 0
Parsed uri: ./lib/sexplib0/META
Reading library: sexplib0
Number of children: 0
Parsed uri: ./lib/ppxlib/META
Reading library: ppxlib
Number of children: 11
Found child: __private__
Reading library: ppxlib.__private__
Number of children: 1
Found child: ppx_foo_deriver
Reading library: ppxlib.__private__.ppx_foo_deriver
Number of children: 0
Found child: ast
Reading library: ppxlib.ast
Number of children: 0
Found child: astlib
Reading library: ppxlib.astlib
Number of children: 0
Found child: metaquot
Reading library: ppxlib.metaquot
Number of children: 0
Found child: metaquot_lifters
Reading library: ppxlib.metaquot_lifters
Number of children: 0
Found child: print_diff
Reading library: ppxlib.print_diff
Number of children: 0
Found child: runner
Reading library: ppxlib.runner
Number of children: 0
Found child: runner_as_ppx
Reading library: ppxlib.runner_as_ppx
Number of children: 0
Found child: stdppx
Reading library: ppxlib.stdppx
Number of children: 0
Found child: traverse
Reading library: ppxlib.traverse
Number of children: 0
Found child: traverse_builtins
Reading library: ppxlib.traverse_builtins
Number of children: 0
Parsed uri: ./lib/ppx_deriving/META
Reading library: ppx_deriving
Number of children: 12
Found child: api
Reading library: ppx_deriving.api
Number of children: 0
Found child: create
Reading library: ppx_deriving.create
Number of children: 0
Found child: enum
Reading library: ppx_deriving.enum
Number of children: 0
Found child: eq
Reading library: ppx_deriving.eq
Number of children: 0
Found child: fold
Reading library: ppx_deriving.fold
Number of children: 0
Found child: iter
Reading library: ppx_deriving.iter
Number of children: 0
Found child: make
Reading library: ppx_deriving.make
Number of children: 0
Found child: map
Reading library: ppx_deriving.map
Number of children: 0
Found child: ord
Reading library: ppx_deriving.ord
Number of children: 0
Found child: runtime
Reading library: ppx_deriving.runtime
Number of children: 0
Found child: show
Reading library: ppx_deriving.show
Number of children: 0
Found child: std
Reading library: ppx_deriving.std
Number of children: 0
Parsed uri: ./lib/ppx_derivers/META
Reading library: ppx_derivers
Number of children: 0
Parsed uri: ./lib/ocaml_intrinsics_kernel/META
Reading library: ocaml_intrinsics_kernel
Number of children: 0
Parsed uri: ./lib/ocaml/stdlib/META
Reading library: stdlib
Number of children: 0
Parsed uri: ./lib/ocaml/compiler-libs/META
Reading library: compiler-libs
Number of children: 5
Found child: common
Reading library: compiler-libs.common
Number of children: 0
Found child: bytecomp
Reading library: compiler-libs.bytecomp
Number of children: 0
Found child: optcomp
Reading library: compiler-libs.optcomp
Number of children: 0
Found child: toplevel
Reading library: compiler-libs.toplevel
Number of children: 0
Found child: native-toplevel
Reading library: compiler-libs.native-toplevel
Number of children: 0
Parsed uri: ./lib/ocaml-compiler-libs/META
Reading library: ocaml-compiler-libs
Number of children: 5
Found child: bytecomp
Reading library: ocaml-compiler-libs.bytecomp
Number of children: 0
Found child: common
Reading library: ocaml-compiler-libs.common
Number of children: 0
Found child: optcomp
Reading library: ocaml-compiler-libs.optcomp
Number of children: 0
Found child: shadow
Reading library: ocaml-compiler-libs.shadow
Number of children: 0
Found child: toplevel
Reading library: ocaml-compiler-libs.toplevel
Number of children: 0
Parsed uri: ./lib/base/META
Reading library: base
Number of children: 3
Found child: base_internalhash_types
Reading library: base.base_internalhash_types
Number of children: 0
Found child: md5
Reading library: base.md5
Number of children: 0
Found child: shadow_stdlib
Reading library: base.shadow_stdlib
Number of children: 0
node_ppx_test.js: [INFO] Adding toplevel modules for dynamic cmis from lib/ocaml/
node_ppx_test.js: [INFO]   toplevel modules: Std_exit, CamlinternalFormatBasics, CamlinternalLazy, CamlinternalMod, Stdlib, CamlinternalOO, CamlinternalFormat
node_ppx_test.js: [INFO] init() finished
node_ppx_test.js: [INFO] setup() for env default...
node_ppx_test.js: [INFO] [ENV] with_env called for default (has_saved_env=false, runtime_values_count=0)
node_ppx_test.js: [INFO] Fetching stdlib__Format.cmi

node_ppx_test.js: [INFO] Fetching stdlib__Sys.cmi

error while evaluating #enable "pretty";;
error while evaluating #disable "shortvar";;
node_ppx_test.js: [INFO] Setup complete
node_ppx_test.js: [INFO] [ENV] Env.diff found 92 new idents for default
node_ppx_test.js: [INFO] [ENV] Capturing 92 new bindings for env default
>> Fatal error: Continuation_already_taken unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Continuation_already_taken: Misc.Fatal_error
>> Fatal error: Division_by_zero unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Division_by_zero: Misc.Fatal_error
>> Fatal error: Failure unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Failure: Misc.Fatal_error
>> Fatal error: Match_failure unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Match_failure: Misc.Fatal_error
>> Fatal error: Invalid_argument unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Invalid_argument: Misc.Fatal_error
>> Fatal error: End_of_file unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture End_of_file: Misc.Fatal_error
>> Fatal error: Assert_failure unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Assert_failure: Misc.Fatal_error
>> Fatal error: Not_found unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Not_found: Misc.Fatal_error
>> Fatal error: Out_of_memory unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Out_of_memory: Misc.Fatal_error
>> Fatal error: Sys_blocked_io unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Sys_blocked_io: Misc.Fatal_error
>> Fatal error: Undefined_recursive_module unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Undefined_recursive_module: Misc.Fatal_error
>> Fatal error: Sys_error unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Sys_error: Misc.Fatal_error
>> Fatal error: Stack_overflow unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stack_overflow: Misc.Fatal_error
>> Fatal error: CamlinternalFormat unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalFormat: Misc.Fatal_error
>> Fatal error: CamlinternalLazy unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalLazy: Misc.Fatal_error
>> Fatal error: CamlinternalFormatBasics unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalFormatBasics: Misc.Fatal_error
>> Fatal error: CamlinternalOO unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalOO: Misc.Fatal_error
>> Fatal error: Stdlib unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib: Misc.Fatal_error
>> Fatal error: Std_exit unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Std_exit: Misc.Fatal_error
>> Fatal error: CamlinternalMod unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalMod: Misc.Fatal_error
>> Fatal error: CamlinternalFormat unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalFormat: Misc.Fatal_error
>> Fatal error: CamlinternalLazy unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalLazy: Misc.Fatal_error
>> Fatal error: CamlinternalFormatBasics unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalFormatBasics: Misc.Fatal_error
>> Fatal error: CamlinternalOO unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalOO: Misc.Fatal_error
>> Fatal error: Stdlib unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib: Misc.Fatal_error
>> Fatal error: Std_exit unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Std_exit: Misc.Fatal_error
>> Fatal error: CamlinternalMod unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture CamlinternalMod: Misc.Fatal_error
>> Fatal error: Stdlib__Array unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Array: Misc.Fatal_error
>> Fatal error: Stdlib__Atomic unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Atomic: Misc.Fatal_error
>> Fatal error: Stdlib__ArrayLabels unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__ArrayLabels: Misc.Fatal_error
>> Fatal error: Stdlib__Bool unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Bool: Misc.Fatal_error
>> Fatal error: Stdlib__Bytes unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Bytes: Misc.Fatal_error
>> Fatal error: Stdlib__Buffer unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Buffer: Misc.Fatal_error
>> Fatal error: Stdlib__Bigarray unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Bigarray: Misc.Fatal_error
>> Fatal error: Stdlib__Arg unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Arg: Misc.Fatal_error
>> Fatal error: Stdlib__Callback unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Callback: Misc.Fatal_error
>> Fatal error: Stdlib__Complex unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Complex: Misc.Fatal_error
>> Fatal error: Stdlib__Char unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Char: Misc.Fatal_error
>> Fatal error: Stdlib__Digest unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Digest: Misc.Fatal_error
>> Fatal error: Stdlib__Dynarray unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Dynarray: Misc.Fatal_error
>> Fatal error: Stdlib__Domain unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Domain: Misc.Fatal_error
>> Fatal error: Stdlib__Condition unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Condition: Misc.Fatal_error
>> Fatal error: Stdlib__Either unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Either: Misc.Fatal_error
>> Fatal error: Stdlib__Filename unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Filename: Misc.Fatal_error
>> Fatal error: Stdlib__Ephemeron unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Ephemeron: Misc.Fatal_error
>> Fatal error: Stdlib__Format unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Format: Misc.Fatal_error
>> Fatal error: Stdlib__Gc unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Gc: Misc.Fatal_error
>> Fatal error: Stdlib__Fun unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Fun: Misc.Fatal_error
>> Fatal error: Stdlib__Float unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Float: Misc.Fatal_error
>> Fatal error: Stdlib__Effect unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Effect: Misc.Fatal_error
>> Fatal error: Stdlib__BytesLabels unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__BytesLabels: Misc.Fatal_error
>> Fatal error: Stdlib__Iarray unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Iarray: Misc.Fatal_error
>> Fatal error: Stdlib__Int unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Int: Misc.Fatal_error
>> Fatal error: Stdlib__In_channel unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__In_channel: Misc.Fatal_error
>> Fatal error: Stdlib__Int64 unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Int64: Misc.Fatal_error
>> Fatal error: Stdlib__Lexing unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Lexing: Misc.Fatal_error
>> Fatal error: Stdlib__Lazy unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Lazy: Misc.Fatal_error
>> Fatal error: Stdlib__Int32 unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Int32: Misc.Fatal_error
>> Fatal error: Stdlib__ListLabels unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__ListLabels: Misc.Fatal_error
>> Fatal error: Stdlib__Marshal unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Marshal: Misc.Fatal_error
>> Fatal error: Stdlib__Map unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Map: Misc.Fatal_error
>> Fatal error: Stdlib__Mutex unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Mutex: Misc.Fatal_error
>> Fatal error: Stdlib__Obj unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Obj: Misc.Fatal_error
>> Fatal error: Stdlib__Nativeint unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Nativeint: Misc.Fatal_error
>> Fatal error: Stdlib__MoreLabels unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__MoreLabels: Misc.Fatal_error
>> Fatal error: Stdlib__List unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__List: Misc.Fatal_error
>> Fatal error: Stdlib__Option unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Option: Misc.Fatal_error
>> Fatal error: Stdlib__Pair unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Pair: Misc.Fatal_error
>> Fatal error: Stdlib__Out_channel unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Out_channel: Misc.Fatal_error
>> Fatal error: Stdlib__Pqueue unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Pqueue: Misc.Fatal_error
>> Fatal error: Stdlib__Printf unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Printf: Misc.Fatal_error
>> Fatal error: Stdlib__Printexc unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Printexc: Misc.Fatal_error
>> Fatal error: Stdlib__Parsing unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Parsing: Misc.Fatal_error
>> Fatal error: Stdlib__Random unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Random: Misc.Fatal_error
>> Fatal error: Stdlib__Result unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Result: Misc.Fatal_error
>> Fatal error: Stdlib__Repr unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Repr: Misc.Fatal_error
>> Fatal error: Stdlib__Semaphore unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Semaphore: Misc.Fatal_error
>> Fatal error: Stdlib__Set unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Set: Misc.Fatal_error
>> Fatal error: Stdlib__Seq unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Seq: Misc.Fatal_error
>> Fatal error: Stdlib__Scanf unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Scanf: Misc.Fatal_error
>> Fatal error: Stdlib__Queue unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Queue: Misc.Fatal_error
>> Fatal error: Stdlib__StdLabels unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__StdLabels: Misc.Fatal_error
>> Fatal error: Stdlib__StringLabels unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__StringLabels: Misc.Fatal_error
>> Fatal error: Stdlib__String unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__String: Misc.Fatal_error
>> Fatal error: Stdlib__Type unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Type: Misc.Fatal_error
>> Fatal error: Stdlib__Weak unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Weak: Misc.Fatal_error
>> Fatal error: Stdlib__Unit unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Unit: Misc.Fatal_error
>> Fatal error: Stdlib__Uchar unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Uchar: Misc.Fatal_error
>> Fatal error: Stdlib__Sys unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Sys: Misc.Fatal_error
>> Fatal error: Stdlib__Stack unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Stack: Misc.Fatal_error
>> Fatal error: Stdlib__Oo unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Oo: Misc.Fatal_error
>> Fatal error: Stdlib__Hashtbl unbound at toplevel
node_ppx_test.js: [INFO] [ENV]   could not capture Stdlib__Hashtbl: Misc.Fatal_error
node_ppx_test.js: [INFO] setup() finished for env default
--- Loading PPX dynamically ---
node_ppx_test.js: [INFO] [ENV] with_env called for default (has_saved_env=true, runtime_values_count=0)
node_ppx_test.js: [INFO] Custom #require: loading ppx_deriving.show
Loading package ppx_deriving.show
lib.dir: show
Loading package ppx_deriving.runtime
lib.dir: runtime
uri: ./lib/ppx_deriving/runtime/dynamic_cmis.json
importScripts: ./lib/ppx_deriving/runtime/ppx_deriving_runtime.cma.js
Finished loading package ppx_deriving.runtime
Loading package ppx_deriving
lib.dir: None
uri: ./lib/ppx_deriving/dynamic_cmis.json
Failed to unmarshal dynamic_cms from url ./lib/ppx_deriving/dynamic_cmis.json: Failed to fetch dynamic cmis
uri: ./lib/ppx_deriving/show/dynamic_cmis.json
importScripts: ./lib/ppx_deriving/show/ppx_deriving_show.cma.js
node_ppx_test.js: [INFO] Error: TypeError: k is not a function
